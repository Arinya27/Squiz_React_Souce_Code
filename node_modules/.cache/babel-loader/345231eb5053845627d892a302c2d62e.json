{"ast":null,"code":"import _slicedToArray from\"/Users/priyamuthu/Downloads/Squiz_React_Project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/priyamuthu/Downloads/Squiz_React_Project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/priyamuthu/Downloads/Squiz_React_Project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import\"./App.scss\";//\nimport{useEffect,useReducer,useState}from\"react\";/*\nconst test = {\n  id: 1,\n  name: \"Centidel\",\n  country: \"United States\",\n  industry: \"Telecommunications Equipment\",\n  numberOfEmployees: 60,\n};\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialForm={filter:{country:\"\",industry:\"\"},sorting:{by:\"name\",order:\"a\"}};// type: \"filter\" | \"sort\"\n// payload: { filed: \"country\" | \"industry\" | \"name\" | \"employee\", value: \"any\" }\nfunction formReducer(state,action){var type=action.type,_action$payload=action.payload,field=_action$payload.field,value=_action$payload.value;if(type===\"filter\"){return _objectSpread(_objectSpread({},state),{},{filter:_objectSpread(_objectSpread({},state.filter),{},_defineProperty({},field,value))});}else if(type===\"sort\"){return _objectSpread(_objectSpread({},state),{},{sorting:_objectSpread(_objectSpread({},state.sorting),{},_defineProperty({},field,value))});}return state;}function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useReducer=useReducer(formReducer,initialForm),_useReducer2=_slicedToArray(_useReducer,2),form=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var url=\"https://dujour.squiz.cloud/developer-challenge/data\";fetch(url).then(function(res){return res.json();}).then(function(result){setData(result);}).catch(function(err){console.log(err);});},[]);var _form$filter=form.filter,country=_form$filter.country,industry=_form$filter.industry,_form$sorting=form.sorting,by=_form$sorting.by,order=_form$sorting.order;var handleFilterChange=function handleFilterChange(e){var field=e.target.id;var value=e.target.value;dispatch({type:\"filter\",payload:{field:field,value:value}});};var handleSortChnage=function handleSortChnage(e){var field=e.target.id;var value=e.target.value;dispatch({type:\"sort\",payload:{field:field,value:value}});};var applySortAndFilter=function applySortAndFilter(data){data=data.filter(function(info){return info.country.toLowerCase().includes(country.toLowerCase())&&info.industry.toLowerCase().includes(industry.toLowerCase());});var sortField=by;data=data.sort(function(a,b){var aValue=a[sortField];var bValue=b[sortField];var orderFlip={a:1,d:-1};if(sortField===\"name\"){return aValue.localeCompare(bValue)*orderFlip[order];}else if(sortField===\"numberOfEmployees\"){return(aValue-bValue)*orderFlip[order];}else{return 0;}});return data;};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"Header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Dev Challenge\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Form FilterForm\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Filter\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"FormItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{id:\"country\",value:country,onChange:handleFilterChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FormItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Industry\"}),/*#__PURE__*/_jsx(\"input\",{id:\"industry\",value:industry,onChange:handleFilterChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Form SortForm\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Sorting\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"FormItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"By\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"by\",value:by,onChange:handleSortChnage,children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"numberOfEmployees\",children:\"Employee Count\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"FormItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Order\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"order\",value:order,onChange:handleSortChnage,children:[/*#__PURE__*/_jsx(\"option\",{value:\"a\",children:\"Ascending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"d\",children:\"Descending\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"records\",children:applySortAndFilter(data).map(function(data){return/*#__PURE__*/_jsx(Company,{data:data},data.id);})})]})]});}function Company(_ref){var _ref$data=_ref.data,name=_ref$data.name,country=_ref$data.country,industry=_ref$data.industry,numberOfEmployees=_ref$data.numberOfEmployees;return/*#__PURE__*/_jsxs(\"div\",{className:\"Company\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Info\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"span\",{children:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Info\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"span\",{children:country})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Info\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Industry\"}),/*#__PURE__*/_jsx(\"span\",{children:industry})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Info\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Employees\"}),/*#__PURE__*/_jsx(\"span\",{children:numberOfEmployees})]})]});}export default App;","map":{"version":3,"names":["useEffect","useReducer","useState","initialForm","filter","country","industry","sorting","by","order","formReducer","state","action","type","payload","field","value","App","data","setData","form","dispatch","url","fetch","then","res","json","result","catch","err","console","log","handleFilterChange","e","target","id","handleSortChnage","applySortAndFilter","info","toLowerCase","includes","sortField","sort","a","b","aValue","bValue","orderFlip","d","localeCompare","map","Company","name","numberOfEmployees"],"sources":["/Users/priyamuthu/Downloads/Squiz_React_Project/src/App.js"],"sourcesContent":["import \"./App.scss\";\n//\n\nimport { useEffect, useReducer, useState } from \"react\";\n/*\nconst test = {\n  id: 1,\n  name: \"Centidel\",\n  country: \"United States\",\n  industry: \"Telecommunications Equipment\",\n  numberOfEmployees: 60,\n};\n*/\nconst initialForm = {\n  filter: {\n    country: \"\",\n    industry: \"\",\n  },\n  sorting: {\n    by: \"name\",\n    order: \"a\",\n  },\n};\n\n// type: \"filter\" | \"sort\"\n// payload: { filed: \"country\" | \"industry\" | \"name\" | \"employee\", value: \"any\" }\n\nfunction formReducer(state, action) {\n  const {\n    type,\n    payload: { field, value },\n  } = action;\n  if (type === \"filter\") {\n    return { ...state, filter: { ...state.filter, [field]: value } };\n  } else if (type === \"sort\") {\n    return { ...state, sorting: { ...state.sorting, [field]: value } };\n  }\n  return state;\n}\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [form, dispatch] = useReducer(formReducer, initialForm);\n\n  useEffect(() => {\n    const url = \"https://dujour.squiz.cloud/developer-challenge/data\";\n    fetch(url)\n      .then((res) => res.json())\n      .then((result) => {\n        setData(result);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const {\n    filter: { country, industry },\n    sorting: { by, order },\n  } = form;\n\n  const handleFilterChange = (e) => {\n    const field = e.target.id;\n    const value = e.target.value;\n    dispatch({\n      type: \"filter\",\n      payload: {\n        field,\n        value,\n      },\n    });\n  };\n\n  const handleSortChnage = (e) => {\n    const field = e.target.id;\n    const value = e.target.value;\n    dispatch({\n      type: \"sort\",\n      payload: {\n        field,\n        value,\n      },\n    });\n  };\n\n  const applySortAndFilter = (data) => {\n    data = data.filter((info) => {\n      return (\n        info.country.toLowerCase().includes(country.toLowerCase()) &&\n        info.industry.toLowerCase().includes(industry.toLowerCase())\n      );\n    });\n\n    const sortField = by;\n\n    data = data.sort((a, b) => {\n      const aValue = a[sortField];\n      const bValue = b[sortField];\n      const orderFlip = {\n        a: 1,\n        d: -1,\n      };\n      if (sortField === \"name\") {\n        return aValue.localeCompare(bValue) * orderFlip[order];\n      } else if (sortField === \"numberOfEmployees\") {\n        return (aValue - bValue) * orderFlip[order];\n      } else {\n        return 0;\n      }\n    });\n\n    return data;\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"Header\">\n        <h1>Dev Challenge</h1>\n      </header>\n      <div className=\"dashboard\">\n        <div className=\"options\">\n          <div className=\"Form FilterForm\">\n            <header>\n              <h5>Filter</h5>\n            </header>\n            <div className=\"FormItem\">\n              <label>Country</label>\n              <input\n                id=\"country\"\n                value={country}\n                onChange={handleFilterChange}\n              />\n            </div>\n            <div className=\"FormItem\">\n              <label>Industry</label>\n              <input\n                id=\"industry\"\n                value={industry}\n                onChange={handleFilterChange}\n              />\n            </div>\n          </div>\n          <div className=\"Form SortForm\">\n            <header>\n              <h5>Sorting</h5>\n            </header>\n            <div className=\"FormItem\">\n              <label>By</label>\n              <select id=\"by\" value={by} onChange={handleSortChnage}>\n                <option value=\"name\">Name</option>\n                <option value=\"numberOfEmployees\">Employee Count</option>\n              </select>\n            </div>\n            <div className=\"FormItem\">\n              <label>Order</label>\n              <select id=\"order\" value={order} onChange={handleSortChnage}>\n                <option value=\"a\">Ascending</option>\n                <option value=\"d\">Descending</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div className=\"records\">\n          {applySortAndFilter(data).map((data) => (\n            <Company data={data} key={data.id} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Company({ data: { name, country, industry, numberOfEmployees } }) {\n  return (\n    <div className=\"Company\">\n      <div className=\"Info\">\n        <label>Name</label>\n        <span>{name}</span>\n      </div>\n      <div className=\"Info\">\n        <label>Country</label>\n        <span>{country}</span>\n      </div>\n      <div className=\"Info\">\n        <label>Industry</label>\n        <span>{industry}</span>\n      </div>\n      <div className=\"Info\">\n        <label>Employees</label>\n        <span>{numberOfEmployees}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}